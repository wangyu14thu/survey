<!--ç”µå­è¯ä¹¦é¡µé¢-->
<view class="certificate-container">
  <view class="page-header">
    <text class="header-title">æˆ‘çš„è¯ä¹¦</text>
    <text class="header-subtitle">è®°å½•æ¯ä¸€ä»½è£èª‰</text>
  </view>

  <!-- è¯ä¹¦åˆ—è¡¨ -->
  <view class="certificates-list" wx:if="{{certificates.length > 0}}">
    <view class="certificate-card" wx:for="{{certificates}}" wx:key="id" bindtap="viewCertificate" data-cert="{{item}}">
      <view class="cert-header">
        <image class="cert-bg" src="/images/cert-bg.png" mode="aspectFill"></image>
        <view class="cert-badge">
          <text class="badge-icon">ğŸ†</text>
        </view>
      </view>
      <view class="cert-content">
        <view class="cert-title">{{item.themeName}}</view>
        <view class="cert-role">{{item.role}}</view>
        <view class="cert-info">
          <text class="info-name">{{item.userName}}</text>
          <text class="info-date">{{item.date}}</text>
        </view>
      </view>
      <view class="cert-actions">
        <button class="action-btn" catchtap="downloadCert" data-cert="{{item}}">
          <text class="btn-icon">ğŸ“¥</text>
          <text>ä¸‹è½½</text>
        </button>
        <button class="action-btn" catchtap="shareCert" data-cert="{{item}}">
          <text class="btn-icon">ğŸ“¤</text>
          <text>åˆ†äº«</text>
        </button>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{certificates.length === 0}}">
    <image class="empty-image" src="/images/empty-certificate.png" mode="aspectFit"></image>
    <text class="empty-text">è¿˜æ²¡æœ‰è·å¾—è¯ä¹¦</text>
    <text class="empty-tip">å®Œæˆå®è·µæ´»åŠ¨åå³å¯è·å¾—è¯ä¹¦</text>
  </view>

  <!-- æŸ¥çœ‹æ›´å¤šæ´»åŠ¨ -->
  <view class="more-activities" wx:if="{{certificates.length > 0}}">
    <text class="more-title">æƒ³è¦æ›´å¤šèŒä¸šä½“éªŒï¼Ÿ</text>
    <button class="btn-courses" bindtap="navigateToCourses">
      æ¢ç´¢ç²¾å“é¡¹ç›®è¯¾
      <text class="btn-badge">New</text>
    </button>
  </view>
</view>

<!-- è¯ä¹¦è¯¦æƒ…å¼¹çª— -->
<view class="cert-modal" wx:if="{{showModal}}" bindtap="closeModal">
  <view class="modal-content" catchtap="stopPropagation">
    <view class="cert-detail">
      <image class="cert-detail-bg" src="/images/cert-detail-bg.png" mode="aspectFit"></image>
      <view class="cert-detail-content">
        <text class="detail-title">å®è·µè¯ä¹¦</text>
        <text class="detail-subtitle">Certificate of Practice</text>
        
        <view class="detail-body">
          <text class="detail-text">æ­å–œ</text>
          <text class="detail-name">{{currentCert.userName}}</text>
          <text class="detail-text">å®Œæˆ</text>
          <text class="detail-theme">ã€Š{{currentCert.themeName}}ã€‹</text>
          <text class="detail-text">ä¸»é¢˜å®è·µæŒ‘æˆ˜</text>
          <text class="detail-text">æˆä¸ºä¸€ååˆæ ¼çš„</text>
          <text class="detail-role">{{currentCert.role}}</text>
        </view>

        <view class="detail-footer">
          <text class="detail-date">é¢å‘æ—¥æœŸï¼š{{currentCert.date}}</text>
          <text class="detail-org">ç¤¾ä¼šå®è·µæ´»åŠ¨ç»„å§”ä¼š</text>
        </view>
      </view>
    </view>
    
    <view class="modal-actions">
      <button class="modal-btn" bindtap="downloadCertDetail">ä¿å­˜åˆ°ç›¸å†Œ</button>
      <button class="modal-btn secondary" bindtap="closeModal">å…³é—­</button>
    </view>
  </view>
</view>

