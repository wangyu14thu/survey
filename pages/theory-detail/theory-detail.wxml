<!--pages/theory-detail/theory-detail.wxml-->
<view class="detail-container">
  <view class="detail-header" style="background: linear-gradient(135deg, {{category.color}} 0%, {{category.color}}cc 100%);">
    <text class="header-icon">{{category.icon}}</text>
    <text class="header-title">{{category.name}}</text>
    <text class="header-subtitle">å…±{{materials.length}}ä»½èµ„æ–™</text>
  </view>

  <view class="points-bar">
    <view class="points-info">
      <text class="points-icon">ğŸ’</text>
      <text class="points-text">å½“å‰ç§¯åˆ†ï¼š{{teacherPoints}}</text>
    </view>
  </view>

  <view class="materials-list">
    <view class="material-card" wx:for="{{materials}}" wx:key="id">
      <view class="material-header">
        <view class="material-type {{item.type}}">{{item.type.toUpperCase()}}</view>
        <view class="material-status {{item.purchased ? 'purchased' : ''}}">
          {{item.purchased ? 'å·²è´­ä¹°' : 'æœªè´­ä¹°'}}
        </view>
      </view>
      <text class="material-title">{{item.title}}</text>
      <view class="material-footer">
        <view class="material-points">
          <text class="points-icon-small">ğŸ’</text>
          <text class="points-value">{{item.points}}ç§¯åˆ†</text>
        </view>
        <button 
          class="btn-purchase {{item.purchased ? 'btn-download' : ''}}" 
          bindtap="{{item.purchased ? 'downloadMaterial' : 'purchaseMaterial'}}"
          data-index="{{index}}"
        >
          {{item.purchased ? 'ä¸‹è½½' : 'å…‘æ¢'}}
        </button>
      </view>
    </view>
  </view>

  <view class="tips-box">
    <text class="tips-icon">ğŸ’¡</text>
    <text class="tips-text">ä¸Šä¼ ä¼˜è´¨é¡¹ç›®å¯è·å¾—ç§¯åˆ†ï¼Œç§¯åˆ†å¯ç”¨äºå…‘æ¢èµ„æ–™</text>
  </view>
</view>

