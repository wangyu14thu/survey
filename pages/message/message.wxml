<!--æ¶ˆæ¯é¡µé¢-->
<view class="message-container">
  <!-- é¡¶éƒ¨æ“ä½œæ  -->
  <view class="header-actions" wx:if="{{messages.length > 0}}">
    <text class="action-text" bindtap="markAllRead">å…¨éƒ¨å·²è¯»</text>
  </view>

  <!-- æ¶ˆæ¯åˆ—è¡¨ -->
  <view class="message-list" wx:if="{{messages.length > 0}}">
    <view class="message-item {{!item.read ? 'unread' : ''}}" 
          wx:for="{{messages}}" 
          wx:key="id"
          bindtap="viewMessage"
          data-id="{{item.id}}">
      <view class="message-icon">
        <text class="icon-emoji" wx:if="{{item.type === 'system'}}">ğŸ“¢</text>
        <text class="icon-emoji" wx:if="{{item.type === 'course'}}">ğŸ“š</text>
        <text class="icon-emoji" wx:if="{{item.type === 'vote'}}">ğŸ—³ï¸</text>
        <view class="unread-badge" wx:if="{{!item.read}}"></view>
      </view>
      
      <view class="message-content">
        <view class="message-header">
          <text class="message-title">{{item.title}}</text>
          <text class="message-time">{{item.time}}</text>
        </view>
        <text class="message-text">{{item.content}}</text>
      </view>
      
      <view class="message-arrow">â€º</view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{messages.length === 0}}">
    <text class="empty-icon">ğŸ“­</text>
    <text class="empty-text">æš‚æ— æ¶ˆæ¯</text>
    <text class="empty-tip">ç³»ç»Ÿæ¶ˆæ¯å’Œæ´»åŠ¨é€šçŸ¥å°†åœ¨è¿™é‡Œæ˜¾ç¤º</text>
  </view>
</view>

