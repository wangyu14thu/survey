<!--pages/register/register.wxml-->
<view class="register-container">
  <!-- Header -->
  <view class="register-header">
    <text class="header-icon">ğŸ‘¨â€ğŸ«</text>
    <text class="header-title">æ•™å¸ˆæ³¨å†Œ</text>
    <text class="header-subtitle">æ¬¢è¿åŠ å…¥PBLè¥</text>
  </view>

  <!-- Form -->
  <view class="register-form">
    <!-- æ˜µç§° -->
    <view class="form-item">
      <view class="label">
        <text class="label-text">æ˜µç§°</text>
        <text class="required">*</text>
      </view>
      <input 
        class="input" 
        type="text" 
        placeholder="è¯·è¾“å…¥æ‚¨çš„æ˜µç§°"
        value="{{formData.nickname}}"
        bindinput="onNicknameInput"
      />
    </view>

    <!-- å¹´çº§ -->
    <view class="form-item">
      <view class="label">
        <text class="label-text">å¹´çº§</text>
        <text class="required">*</text>
      </view>
      <picker 
        mode="selector" 
        range="{{gradeList}}" 
        value="{{gradeIndex}}" 
        bindchange="onGradeChange"
      >
        <view class="picker {{gradeIndex === -1 ? 'placeholder' : ''}}">
          {{gradeIndex === -1 ? 'è¯·é€‰æ‹©ä»»æ•™å¹´çº§' : gradeList[gradeIndex]}}
          <text class="arrow">â€º</text>
        </view>
      </picker>
    </view>

    <!-- å­¦ç§‘ -->
    <view class="form-item">
      <view class="label">
        <text class="label-text">å­¦ç§‘</text>
        <text class="required">*</text>
      </view>
      <picker 
        mode="selector" 
        range="{{subjectList}}" 
        value="{{subjectIndex}}" 
        bindchange="onSubjectChange"
      >
        <view class="picker {{subjectIndex === -1 ? 'placeholder' : ''}}">
          {{subjectIndex === -1 ? 'è¯·é€‰æ‹©ä»»æ•™å­¦ç§‘' : subjectList[subjectIndex]}}
          <text class="arrow">â€º</text>
        </view>
      </picker>
    </view>

    <!-- åœ°åŒº -->
    <view class="form-item">
      <view class="label">
        <text class="label-text">åœ°åŒº</text>
        <text class="required">*</text>
      </view>
      <picker 
        mode="region" 
        value="{{formData.region}}" 
        bindchange="onRegionChange"
      >
        <view class="picker {{formData.region.length === 0 ? 'placeholder' : ''}}">
          {{formData.region.length === 0 ? 'è¯·é€‰æ‹©æ‰€åœ¨åœ°åŒº' : formData.region.join(' ')}}
          <text class="arrow">â€º</text>
        </view>
      </picker>
    </view>

    <!-- æ‰‹æœºå· -->
    <view class="form-item">
      <view class="label">
        <text class="label-text">æ‰‹æœºå·</text>
        <text class="required">*</text>
      </view>
      <input 
        class="input" 
        type="number" 
        maxlength="11" 
        placeholder="è¯·è¾“å…¥æ‰‹æœºå·"
        value="{{formData.phone}}"
        bindinput="onPhoneInput"
      />
    </view>

    <!-- æç¤º -->
    <view class="form-tip">
      <text class="tip-icon">â„¹ï¸</text>
      <text class="tip-text">è¯·ç¡®ä¿ä¿¡æ¯å‡†ç¡®ï¼Œç”¨äºåç»­èº«ä»½éªŒè¯</text>
    </view>

    <!-- æäº¤æŒ‰é’® -->
    <button 
      class="btn-submit {{canSubmit ? '' : 'btn-disabled'}}" 
      bindtap="submitRegister"
      disabled="{{!canSubmit}}"
    >
      ç«‹å³æ³¨å†Œ
    </button>
  </view>
</view>

